---
import { type CollectionEntry, getCollection, render } from "astro:content";

import BlogLayout from "../../layouts/BlogLayout.astro";

export const getStaticPaths = async () => {
  const blog = await getCollection("blog");

  return blog.map((post) => {
    return { params: { id: post.id }, props: { post } };
  });
};

const { post } = Astro.props;
const { Content } = await render(post);

const { title, description, pubDate, modDate } = post.data;
---

<BlogLayout
  title={title}
  description={description}
  pubDate={pubDate}
  modDate={modDate}
>
  <Content />
</BlogLayout>
